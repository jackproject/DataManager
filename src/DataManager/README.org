

* learn
  CLOCK: [2016-04-15 周五 15:20]--[2016-04-15 周五 15:46] =>  0:26

** hsql 中转换字符串 到特定的类型 的数据
** MyEclipse 找不到测试的类
   CLOCK: [2016-04-15 周五 19:14]--[2016-04-15 周五 19:21] =>  0:07
Class not found test.soho.service.ItemTest


对maven项目运行测试类的时候要注意输出目录。


Default output folder，指向的是项目中的target文件夹中classes目录的test的文件夹。

可能是在该文件夹下的.class文件类加载器找不到，我换了一下输出目录webapp/WEB-INF/classes就可以找到了，解决。
   

** DONE 编译不通过
   - State "DONE"       from ""           [2016-04-15 周五 21:29]
java.lang.UnsupportedClassVersionError: com/soho/model/Item : Unsupported major.minor version 51.0

---------

改成 MyEclipse 自带的 Java 编译即可

** DONE 查找失败
   - State "DONE"       from ""           [2016-04-15 周五 21:29]
   CLOCK: [2016-04-15 周五 21:17]--[2016-04-15 周五 21:28] =>  0:11

Expected positional parameter count: 1, actual parameters: [] [


修改了？ ，好像又可以了

** DONE bootstrap 如何设定添加按钮，删除按钮
   - State "DONE"       from ""           [2016-04-15 周五 17:04]
   新增, 删除

** DONE select readonly
   - State "DONE"       from ""           [2016-04-15 周五 17:04]
   record.html
   <select ng-model="pick.choice" >
---------
   disabled

* nextstep
** DONE 创建筛选数据库
   - State "DONE"       from ""           [2016-04-15 周五 16:40]
   CLOCK: [2016-04-15 周五 16:17]--[2016-04-15 周五 16:40] =>  0:23

** 实现通过传递刷选编号查询数据
   SCHEDULED: <2016-04-15 周五>
   CLOCK: [2016-04-15 周五 21:30]--[2016-04-15 周五 22:02] =>  0:32
selet from t_data where (item_id=1 and content>1) or (item_id=1 and content<100)

要通过 HSQL 的字段类型来转变

** DONE 整合页面
   - State "DONE"       from ""           [2016-04-15 周五 21:17]
   CLOCK: [2016-04-15 周五 20:42]--[2016-04-15 周五 21:09] =>  0:27
   CLOCK: [2016-04-15 周五 20:00]--[2016-04-15 周五 20:32] =>  0:32

** 实现筛选服务相关对象
   CLOCK: [2016-04-15 周五 17:29]--[2016-04-15 周五 17:58] =>  0:29
   CLOCK: [2016-04-15 周五 16:48]--[2016-04-15 周五 17:23] =>  0:35
** 实现刷选接口
** DONE 实现添加筛选对话框
   - State "DONE"       from ""           [2016-04-15 周五 15:55]
   CLOCK: [2016-04-15 周五 15:51]--[2016-04-15 周五 15:55] =>  0:04
** 刷选功能
   CLOCK: [2016-04-15 周五 14:47]--[2016-04-15 周五 15:15] =>  0:28
   CLOCK: [2016-04-15 周五 14:16]--[2016-04-15 周五 14:42] =>  0:26

** DONE 去掉 左侧 的“数据处理”标签
   SCHEDULED: <2016-04-13 周三>
   - State "DONE"       from ""           [2016-04-15 周五 14:16]
   CLOCK: [2016-04-15 周五 11:24]--[2016-04-15 周五 11:27] =>  0:03
** 用户登录的界面
** 文件上传
** excel解析

1. 需要考虑字段类型，并解析

** CRUD 查询数据
   CLOCK: [2016-04-13 周三 20:45]--[2016-04-13 周三 21:08] =>  0:23
   CLOCK: [2016-04-13 周三 19:42]--[2016-04-13 周三 20:28] =>  0:46
   CLOCK: [2016-04-13 周三 18:57]--[2016-04-13 周三 19:28] =>  0:31

angular Request Method:DELETE Status Code:415 Unsupported Media Type

改成post形式
		  <th>操作</th>
** excel 解析
1. 处理不同类型的解析

** DONE 解决静态文件访问的配置
   SCHEDULED: <2016-04-11 周一>
   - State "DONE"       from ""           [2016-04-11 周一 22:29]
   CLOCK: [2016-04-11 周一 22:01]--[2016-04-11 周一 22:29] =>  0:28


	<mvc:annotation-driven />
	<mvc:resources location="/partials/" mapping="/partials/**" />
	<mvc:resources location="/resources/" mapping="/resources/**" />
	<mvc:resources location="/json/" mapping="/json/**" />
	<mvc:resources location="/js/" mapping="/js/**" />
	<mvc:resources location="/" mapping="/**.html" />


** 解析excel，以及整合项目
   SCHEDULED: <2016-04-10 周日>
   CLOCK: [2016-04-10 周日 22:03]--[2016-04-10 周日 22:34] =>  0:31


Description	Resource	Path	Location	Type
Unbound classpath container: 'JRE System Library [JavaSE-1.7]' in project 'DataManager'	DataManager		Build path	Build Path Problem

sted exception is java.lang.UnsupportedClassVersionError: com/soho/service/ItemService : Unsupported major.minor version 51.0


** 实现与 angularjs 的集成
   CLOCK: [2016-04-08 周五 20:41]--[2016-04-08 周五 21:08] =>  0:27
** Item管理页面
   CLOCK: [2016-04-08 周五 21:35]--[2016-04-08 周五 21:41] =>  0:06
   CLOCK: [2016-04-08 周五 19:55]--[2016-04-08 周五 20:21] =>  0:26

** DONE 搭建 bootstrap 与 angularjs 的基础框架
   SCHEDULED: <2016-04-08 周五>
   - State "DONE"       from ""           [2016-04-08 周五 19:55]
   CLOCK: [2016-04-08 周五 19:11]--[2016-04-08 周五 19:37] =>  0:26

- bootstrap 中文
  http://www.bootcss.com/



** 实现输入文件

http://v3.bootcss.com/css/#forms

表单
基本实例

** 查看web需求
   SCHEDULED: <2016-04-04 周一>
   CLOCK: [2016-04-04 周一 21:39]--[2016-04-04 周一 21:44] =>  0:05
** 更新到服务器
   SCHEDULED: <2016-03-28 周一>
   CLOCK: [2016-03-29 周二 20:16]--[2016-03-29 周二 20:26] =>  0:10
   CLOCK: [2016-03-29 周二 19:37]--[2016-03-29 周二 20:02] =>  0:25
** 插入和删除数据的批量更新
** 字段的排序功能
** 修改 MyEclipse 的注释风格
** 处理数据记录模型中的 type 字段
   SCHEDULED: <2016-03-16 周三>
** 字段名唯一问题
   CLOCK: [2016-03-19 周六 10:40]--[2016-03-19 周六 11:17] =>  0:37
1. 设置数据库字段唯一？
2. 设定 数据记录 唯一

** 整理使用手册
1. 截图等

** 优化界面
   CLOCK: [2016-03-17 周四 20:14]--[2016-03-17 周四 20:53] =>  0:39
   CLOCK: [2016-03-16 周三 21:38]--[2016-03-16 周三 22:41] =>  1:03
1. 发布 ExtJS release 版本
2. 改成修改那些改成中文版的提示



ycompressor


java -jar "D:\Program Files (x86)\SenchaSDKTools-2.0.0-beta3\compat\jsbuilder\ycompressor\ycompressor.jar" --type js --charset UTF-8 all-classes.js -o app-all.js

* need

1. 上传excel能否一次选择多个文件？
   一次一个就行

2. 查询条件中 "广东,广西" ，认为采取与“字段”下拉框的处理方式比较好：
   比如： 1. 字段 2. 比较条件(大于、匹配、小于) 3. 值
   改成并且的关系

3. 能够对数据表进行增删改查的功能。 这一项需要有web界面吗？
   不需要，为以后预留


* code & tech
** datamanage php code


执行 sql 传入参数格式：

        $values_arr = array();

        $values_arr[0] = ["item test", 1];


---------

        $arrlength = count($rec);

        for ($x = 0; $x < $arrlength; $x++) {
            $t = $rec[$x];
            $len = count($t);

            for ($i = 0; $i < $len; $i++) {
                echo $t[$i] . ", ";
            }

            echo "<br>";
        }

---------

select max(item_id) as maxid from t_item


---------

** mysql

alter database datamanager character set utf8;

alter database datamanager character set utf8 COLLATE utf8_chinese_ci;;


create database datamanager character set utf8 COLLATE utf8_chinese_ci;

---------
不能执行这条语句： $this->conn = new mysqli(self::host, self::user, self::password, self::db, self::port);

【解决办法】

设置 php.ini 中的  mysqli.dll 这一项

extension=php_mysqli.dll




(+ 760 710)

** extjs

sencha create jsb -a http://localhost:8080/DataManager/temp.jsp -p app.jsb3

sencha build -p app.jsb3 -d .


java -jar "d:/Program Files (x86)/SenchaSDKTools-2.0.0-beta3/compat/jsbuilder/ycompressor/ycompressor.jar" --type js --charset utf-8 -v all-classes.js > app-all.js 


** maven

maven 编码GBK的不可映射字符


* sql 

drop database datamanager;

create database datamanager character set utf8 COLLATE utf8_general_ci;

use datamanager


select * from t_item;

delete from t_data;

select * from t_data;


insert into t_item(name, type, order_num) values('字段1', 1, 1);
insert into t_item(name, type, order_num) values('字段2', 1, 1);
insert into t_item(name, type, order_num) values('备注', 1, 1);



insert into t_data(data_id, item_id, content) values(1, 1, '内容1');
insert into t_data(data_id, item_id, content) values(1, 2, '内容2');



insert into t_othername(item_id, name) values(1, '别名1');
insert into t_othername(item_id, name) values(1, '别名2');



insert into t_validate(item_id, validate_item) values(1, '验证1');
insert into t_validate(item_id, validate_item) values(1, '验证2');


---------

INSERT INTO `t_item` (`item_id`, `name`, `type`, `order_num`, `maxlength`) VALUES
(1, '编号', 0, 1, 1000),
(2, '名称', 0, 0, 100),
(3, '字段名', 0, 100, 100),
(5, '字段2', 1, 2, NULL),
(6, '备注', 1, 90, NULL);


INSERT INTO `t_othername` (`othername_id`, `item_id`, `name`) VALUES
(7, 2, ''),
(10, 1, '别名1'),
(11, 1, '别名1'),
(12, 1, '别名2'),
(15, 3, ''),
(16, 6, ''),
(17, 5, '');

INSERT INTO `t_validate` (`validate_id`, `item_id`, `validate_item`) VALUES
(7, 2, ''),
(10, 1, '验证1'),
(11, 1, '验证1'),
(12, 1, '验证2'),
(15, 3, ''),
(16, 6, ''),
(17, 5, '');



INSERT INTO `t_user` (`username`, `password`) VALUES
('admin', '123456'),
('user', '123456'),
('1', '1');


INSERT INTO `t_pick` (`pick_id`, `pick_name`) VALUES
(1, '筛选1'),
(2, '筛选2');


INSERT INTO `t_pick_item` (`pick_item_id`, `pick_id`, `item_id`, `choice`, `pick_value`) VALUES
(1, 1, '1', 0, '1'),
(2, 1, '1', 2, '100');


INSERT INTO `t_data` (`data_id`, `item_id`, `content`) VALUES
(1, 1, '1'),
(1, 2, '1'),
(1, 3, '1'),
(2, 1, '2'),
(2, 2, '2'),
(2, 3, '2');
